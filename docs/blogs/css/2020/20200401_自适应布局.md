---
title: 自适应布局
createTime:  2020-4-1
tags:
  - css
categories:
  - css
date:  2025/06/03 20:00:23


---

# 介绍

生活中，不管是PC端还是移动端的页面都存在多种设备分辨率问题。面对不同的分辨率，如普通手机和iPad，一个横屏一个竖屏，假如采用固定的像素布局，很明显就会出现观感体验不好的情况。那该怎样去解决这些分辨率问题呢，是我们应该思考的难题。

## 视口
视口就是浏览器呈现网页的区域。主要涉及 dip （ device-independent pixel 设备逻辑像素 ）和 CSS 像素之间的关系。一般移动端都默认设置了viewport元标签，iOS和Android都基本默认设置为980px;视口的属性主要以下几个。
| 属性名 | 值 | 描述 |
| ------ | ------ | ------ |
| width | 正整数/device-width | 视口的宽度，单位为像素 |
| height | 正整数/device-height | 视口的高度，单位为像素 |
| initial-scale | [0.0,10.0] | 初始缩放值 |
| minimum-scale | [0.0,10.0] | 缩小最小比例，它必须小于或等于maximum-scale设置 |
| maximum-scale | [0.0-10.0] | 放大最大比例，它必须大于或等于minimum-scale设置 |
| user-scalable | yes/no | 定义是否允许用户手动缩放页面，默认值yes |

响应式，横竖屏的切换
```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
```
### 优缺点
优点：按照设计稿的大小，为我们所设定的大小，即所量所设。
缺点：没有使用完美视口。

## Media 媒体查询
根据检测viewport(视窗) 的宽度与高度，设备的宽度与高度，朝向 (智能手机横屏，竖屏) ，分辨率等等来实现响应式的布局。
```
@media screen and (min-width:480px){
  body{
    background-color:lightgreen;
  }
}
```
即当宽度大于480，就使用lightgreen背景颜色。

### 优缺点
优点：通过监听各种类型的设备和分辨率等，可以有效的实现响应式。
缺点：根据不同设备，ui需要设置不一样的布局和前端需要编写大量css代码。

## rem响应式布局

rem是指根元素（root element，html）的字体大小，根元素默认的 font-size 都是 16px。与之相似的是em，但em是相对于父级元素的，一般很少人用。选择性使用rem作为单位，这样在不同尺寸的设备上，通过修改根节点的font-size大小，实现等比例缩放。

### rem数值计算
正常情况下rem的值默认为16px，这样在整个页面的css计算过程中太过繁琐。比如，现在有个30px宽度的元素，就得写成30/16rem。对于整个页面来说工作量还是挺大的。所以可以用其他方式替代。</br>
可以将html的font-size设置成100px</br>
这样设置，在写单位时直接将数值除以100在加上rem的单位就可以了。如果设计稿的字体是16px；我们就可以写成1.6rem。</br>
这里为什么不用10？</br>
因为google等浏览器对最小字体有限制，即最小为12px，所以设置10px会有问题。

### 优缺点
优点：可以通过postcss相关插件来转换css，rem之间的数值，避免手动计算，可以解决元素的等比缩放，不影响观感。
缺点：所有的图片，盒子都需要我们去给一个准确的值；才能保证不同机型的适配；

## 偏方
### 百分比
通过设置百分比，为每个元素设定百分比，常用的为vw和vh。

### calc计算
calc通过百分比，再计算。

### flex弹性盒子
弹性盒子在布局上有显著的效果，通过弹性盒子，设定布局方向，再通过flex:1实现自适应。

### grid 网格
切分盒子为多少网格个数，来实现自适应，但目前浏览器兼容性比较差。

